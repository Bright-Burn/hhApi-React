(this.webpackJsonpvacancyapp=this.webpackJsonpvacancyapp||[]).push([[0],{241:function(e,a,t){e.exports=t(443)},246:function(e,a,t){},264:function(e,a,t){},440:function(e,a,t){},441:function(e,a,t){},442:function(e,a,t){},443:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(44),l=t.n(c),o=(t(246),t(232)),u=t(92),i=t.n(u),s=t(451),m=t(455),p=t(134),E=t(28),d=r.a.createContext(),y={areas:[],region:null,city:[],searchingValue:"",isVacancyLoaded:!1,vacancies:[],vacancyViewToggle:!1,aboutVacancy:null,isFiltered:!1,alert:{show:!1,type:null,text:""},pagesTotal:0,currentPage:1},f=function(e,a){switch(a.type){case"SET__AREAS":return Object(E.a)({},e,{areas:Object(p.a)(a.payload)});case"REGION__SELECT":return Object(E.a)({},e,{region:e.areas.filter((function(e){return e.name===a.payload}))[0]});case"CITY__SELECT":return Object(E.a)({},e,{city:e.region.areas.filter((function(e){return e.name===a.payload}))[0]});case"SET__SEARCH__VALUE":return Object(E.a)({},e,{searchingValue:a.payload});case"HANDLE__SEARCH":return Object(E.a)({},e,{vacancies:a.payload,pagesTotal:a.pages,currentPage:a.currentPage,isVacancyLoaded:!0});case"HANDLE__ABOUT__VACANCY":return Object(E.a)({},e,{vacancyViewToggle:!e.vacancyViewToggle,aboutVacancy:a.payload});case"HANDLE__FILTER":return Object(E.a)({},e,{isFiltered:!e.isFiltered});case"HANDLE__SORT":return Object(E.a)({},e,{vacancies:Object(p.a)(e.vacancies.sort((function(e,t){var n=e.salary&&e.salary.from?e.salary.from:0,r=t.salary&&t.salary.from?t.salary.from:0;return"down"===a.payload?n-r:r-n})))});case"SET__ALERT":return Object(E.a)({},e,{alert:a.payload});default:return e}},_=(t(264),function(e){var a=e.handleSearch,t=Object(n.useContext)(d),c=t.state,l=t.dispatch,o=c.areas,u=c.region,i=c.searchingValue;return r.a.createElement("div",{className:"header"},r.a.createElement("form",{className:"header__form",onSubmit:function(e){return a(e,(function(e,a,t){return l({type:"HANDLE__SEARCH",payload:e,pages:a,currentPage:t})}))}},r.a.createElement("input",{className:"header__input",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438",value:i,onChange:function(e){return l({type:"SET__SEARCH__VALUE",payload:e.target.value})}}),r.a.createElement("select",{className:"header__select",name:"region",onChange:function(e){return l({type:"REGION__SELECT",payload:e.target.value})}},r.a.createElement("option",{defaultValue:"selected"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0435\u0433\u0438\u043e\u043d"),o&&o.map((function(e){return r.a.createElement("option",{key:e.id},e.name)}))),r.a.createElement("select",{className:"header__select",name:"city",onChange:function(e){return l({type:"CITY__SELECT",payload:e.target.value})}},r.a.createElement("option",{defaultValue:"selected"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"),u?u.areas.map((function(e){return r.a.createElement("option",{key:e.id},e.name)})):""),r.a.createElement("button",{className:"header__button"},"\u041f\u043e\u0438\u0441\u043a")))}),h=t(52),g=t(456),v=t(452),C=t(458),A=function(){var e=Object(n.useContext)(d),a=e.state,t=e.dispatch,c=a.aboutVacancy;return r.a.createElement(v.a,{open:!0,onUnmount:function(){return t({type:"HANDLE__ABOUT__VACANCY",payload:null})}},r.a.createElement(v.a.Header,null,c.name),r.a.createElement(v.a.Content,null,r.a.createElement(v.a.Description,null,r.a.createElement(C.a,null," ",c.employer.name),r.a.createElement("p",{dangerouslySetInnerHTML:{__html:c.description}}),r.a.createElement("p",null,"\u041e\u043f\u044b\u0442 \u0440\u0430\u0431\u043e\u0442\u044b: ",c.experience.name),r.a.createElement("p",null,"\u0413\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0431\u043e\u0442\u044b: ",c.schedule.name),r.a.createElement("p",null,"\u0413\u043e\u0440\u043e\u0434: ",c.area.name),r.a.createElement("p",null,"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430: \u043e\u0442",c.salary&&c.salary.from," \u0434\u043e ",c.salary&&c.salary.to&&c.salary.to))))},T=function(e){var a=e.handleViewMore,t=Object(n.useContext)(d),c=t.state,l=t.dispatch,o=c.vacancyViewToggle,u=c.vacancies,i=c.isVacancyLoaded,s=c.isFiltered&&u?u.filter((function(e){return e.salary&&e.salary.from})):u;return!!i&&s.map((function(e){return r.a.createElement(m.a,{key:e.id},r.a.createElement(m.a.Content,null,r.a.createElement(m.a.Header,null,e.name),r.a.createElement(m.a.Meta,null,r.a.createElement("span",{className:"date"},e.employer.name))),r.a.createElement(m.a.Content,{extra:!0},r.a.createElement("a",null,e.salary&&"\u041e\u0442 ".concat(e.salary.from," "),e.salary&&e.salary.to&&"\u0434\u043e ".concat(e.salary.to),r.a.createElement(h.a,{name:"rub"}))),r.a.createElement(g.a,{onClick:function(){return a(e.id,(function(e){return l({type:"HANDLE__ABOUT__VACANCY",payload:e})}))}},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",o&&r.a.createElement(A,null)))}))},b=t(457),L=t(454),O=t(459),N=function(){var e=Object(n.useContext)(d),a=e.state,t=e.dispatch,c=a.vacancies,l=a.isVacancyLoaded,o=c&&c.filter((function(e){return e.salary&&e.salary.from}));return r.a.createElement(b.a,null,r.a.createElement(b.a.Item,{content:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0435(\u0431\u043e\u043b\u044c\u0448\u0435)",onClick:function(){return t({type:"HANDLE__SORT",payload:"down"})}}),r.a.createElement(b.a.Item,{content:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0435(\u043c\u0435\u043d\u044c\u0448\u0435)",onClick:function(){return t({type:"HANDLE__SORT"})}}),r.a.createElement(b.a.Item,{content:"\u0421 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u043e\u0439 / \u0412\u0441\u0435",onClick:function(){return t({type:"HANDLE__FILTER"})}}),r.a.createElement(L.a,{wide:!0,trigger:r.a.createElement(g.a,{content:"\u0425\u043e\u0442\u0438\u0442\u0435 \u0443\u0437\u043d\u0430\u0442\u044c \u0441\u0440\u0435\u0434\u043d\u044e\u044e \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0443?"}),on:"click"},r.a.createElement(O.a,{divided:!0,columns:"equal"},r.a.createElement(O.a.Column,null,l&&(o.reduce((function(e,a){return e+a.salary.from}),0)/o.length).toFixed(2)))))},S=(t(440),function(e){var a=e.handleSearch,t=Object(n.useContext)(d),c=t.state,l=t.dispatch,o=c.pagesTotal,u=c.isVacancyLoaded,i=c.currentPage;if(u){for(var s=[],m=1;m<=o;m++)s.push(m);return r.a.createElement("div",{className:"page"},r.a.createElement("span",{className:"page__title"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430:"),r.a.createElement("div",null,s.map((function(e){return r.a.createElement("button",{key:e,className:"page__button ".concat(e===i?"page__button--active":""),onClick:i!==e&&function(t){return a(t,(function(e,a,t){return l({type:"HANDLE__SEARCH",payload:e,pages:a,currentPage:t})}),e)}},e)}))))}return!1}),V=(t(441),function(){var e=Object(n.useContext)(d),a=e.state,t=(e.dispatch,a.alert),c=t.show,l=t.type,o=t.text;return!!c&&r.a.createElement("div",{className:"alert alert-".concat(l)},o)});t(442);var j=function(){var e=Object(n.useReducer)(f,y),a=Object(o.a)(e,2),t=a[0],c=a[1],l=t.searchingValue,u=t.city,p=t.region;Object(n.useEffect)((function(){i.a.get("https://api.hh.ru/areas/113").then((function(e){var a=e.data;c({type:"SET__AREAS",payload:a.areas})})).catch((function(e){return console.log(e)}))}),[]);var E=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e.preventDefault(),l&&p){var n="https://api.hh.ru/vacancies?page=".concat(t,"&per_page=50&area=").concat(u&&u.id||p.id,"&text=").concat(l);i.a.get(n).then((function(e){var t=e.data;console.log(t),a(t.items,t.pages,t.page)})).then((function(){return h("success","\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b")})).catch((function(e){h("danger","\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b")}))}else h("danger","\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430")},h=function(e,a){c({type:"SET__ALERT",payload:{show:!0,type:e,text:a}}),setTimeout((function(){return c({type:"SET__ALERT",payload:{show:!1,type:null,text:""}})}),2e3)};return r.a.createElement(d.Provider,{value:{dispatch:c,state:t}},r.a.createElement(s.a,null,r.a.createElement(_,{handleSearch:E}),r.a.createElement(N,null),r.a.createElement(S,{handleSearch:E}),r.a.createElement(V,null),r.a.createElement(m.a.Group,{itemsPerRow:4},r.a.createElement(T,{handleViewMore:function(e,a){i.a.get("https://api.hh.ru/vacancies/".concat(e)).then((function(e){var t=e.data;a(t)})).catch((function(e){return console.log(e)}))}}))))};l.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[241,1,2]]]);
//# sourceMappingURL=main.b4f2e856.chunk.js.map